"use strict";function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}const pageData={config:{},content:{}},accordion=document.querySelector(".accordion"),selectGroup=document.querySelector("#filterGroup"),getClass=a=>"POST"===a?"card-field_success":"PUT"===a?"card-field_info":"PATCH"===a?"card-field_warning":"DELETE"===a?"card-field_danger":"card-field_primary",getBackroundColor=a=>"POST"===a?"#17C671":"PUT"===a?"#00B8D8":"PATCH"===a?"#FFB400":"DELETE"===a?"#C4183C":"#007BFF",filterSearch=a=>{let b=[];3<a.length?(Object.keys(pageData.content).map(c=>{const d=pageData.content[c].routes.filter(b=>-1<b.name.toLowerCase().indexOf(a.toLowerCase())||-1<b.description.toLowerCase().indexOf(a.toLowerCase())||-1<b.route.toLowerCase().indexOf(a.toLowerCase()));0<d.length&&(b[c]={group:c,routes:d})}),accordion.innerHTML="",renderPage(b)):(accordion.innerHTML="",renderPage(pageData.content))},filterGroup=a=>{let b={};accordion.innerHTML="",pageData.content[a]?b[a]=pageData.content[a]:b=pageData.content,renderPage(b)},createUnique=()=>Math.random().toString(36).substr(2,16),createListener=()=>{const a=document.querySelectorAll(".card-row_data");a.forEach(a=>{a.addEventListener("click",()=>{a.scrollIntoView({block:"start",behavior:"smooth"})},!1)}),hljs.initHighlightingOnLoad(),new ClipboardJS("[data-clipboard-target]")},createGroup=a=>"\n    <div class=\"card-row card-row_group\" id=\""+(createUnique()+"\">\n      <div class=\"card-field\">\n        <div class=\"card-field_name\">Group ")+(a+"</div>\n      </div>\n    </div>\n  "),createDummy=a=>"Integer"===a?123456:"John Doe",createParameter=a=>{if(a.parameter){const b={},c="GET"===a.method?"param":"data";return Object.keys(a.parameter).map(c=>{b[c]=createDummy(a.parameter[c])}),", {\n      "+c+": "+(JSON.stringify(b,!1,4)+"\n    }")}return""},createRequest=(a,b)=>("\n    axios\n  ."+(a.method.toLowerCase()+"('")+(b.endpoint+b.path+a.route+"'")+(createParameter(a)+")\n  .then(res => {\n    console.log(res)\n  })\n  ")).trim(),createField=(a,b,c,d)=>"\n    <div class=\"card-row card-row_data\" id=\""+(createUnique()+"\">\n      <div class=\"card-field\" data-toggle=\"collapse\" data-target=\"#collapse-")+(c+"-")+(d+"\" aria-expanded=\"true\" aria-controls=\"collapse-")+(c+"-")+(d+"\">\n        <div class=\"card-field_name\">")+(a.name+"</div>\n        <div class=\"card-field_route\">")+(b.path+a.route+"</div>\n        <div class=\"card-field_description\">")+(a.description+"</div>\n        <div class=\"card-field_method ")+(getClass(a.method)+"\">")+(a.method+"</div>\n      </div>\n      <div id=\"collapse-")+(c+"-")+(d+"\" class=\"collapse\" aria-labelledby=\"heading-")+(c+"-")+(d+"\" data-parent=\"#accordion\">\n        <div class=\"collapse-inner\">\n          <div class=\"content-left\">\n            <div class=\"content-title\">\n              <span style=\"background-color: ")+(getBackroundColor(a.method)+";\">")+(a.method+"</span>\n              ")+(a.name+"\n            </div>\n            <div class=\"content-description\">\n              ")+(a.description+"\n            </div>\n            <div class=\"content-route\">\n              <div id=\"route-path-")+(c+"-")+(d+"\">\n                ")+(b.endpoint+b.path+a.route+"\n              </div>\n              <button class=\"btn btn-default\" data-clipboard-target=\"#route-path-")+(c+"-")+(d+"\">Copy</button>\n            </div>\n            <div class=\"content-description\">\n              Example Request\n            </div>\n            <div class=\"content-route\">\n              <div id=\"request-")+(c+"-")+(d+"\">\n                <pre><code class=\"javascript\">")+(createRequest(a,b)+"</code></pre>\n              </div>\n              <button class=\"btn btn-default\" data-clipboard-target=\"#request-")+(c+"-")+(d+"\">Copy</button>\n            </div>\n          </div>\n          <div class=\"content-right\">\n            <div class=\"content-code\">Response</div>\n            <pre><code class=\"json\">")+(JSON.stringify(a.response,!1,4)+"</code></pre>\n          </div>\n        </div>\n      </div>\n    </div>\n  "),getConfig=(()=>{var a=_asyncToGenerator(function*(){return yield fetch("data/config.json").then(function(a){return a.json()})});return function(){return a.apply(this,arguments)}})(),renderPage=a=>{const b=[],c=a||pageData.content;Object.keys(c).map(a=>{b.push(createGroup(c[a].group)),c[a].routes&&c[a].routes.map((c,d)=>{b.push(createField(c,pageData.config,a,d))})}),accordion.insertAdjacentHTML("beforeEnd",b.join("\n")),createListener()},generate=(()=>{var a=_asyncToGenerator(function*(){const a=yield getConfig();yield fetch("data/routes.json").then(function(a){return a.json()}).then(function(b){pageData.config=a,pageData.content=b;const c=[];Object.keys(b).map(function(a){c.push("<option value=\""+(a+"")+"\">Group "+(a+"")+"</option>")}),selectGroup.insertAdjacentHTML("beforeEnd",c.join("\n")),renderPage()})});return function(){return a.apply(this,arguments)}})();generate();